def Bank(balance, annualInterestRate, monthlyPayment, months):
    month=0
    while month<months:
        balance=(balance-monthlyPayment)*(1+annualInterestRate/12)
        month+=1  
    return (round(balance,2))
    

balance=320000
annualInterestRate=0.2
months=12
monthlyPaymentlow=balance/12
monthlyPaymenthigh=(balance*(1.0 + annualInterestRate/12)**12)/12
monthlyPayment=0
print ('new loop', monthlyPaymentlow, monthlyPaymenthigh)
while Bank(balance, annualInterestRate, monthlyPayment, months)>=0:
        
    if Bank(balance, annualInterestRate, monthlyPayment, months)>0:
        print ('begin',balance, monthlyPaymentlow, monthlyPaymenthigh)
        monthlyPaymentlow=(monthlyPaymenthigh-monthlyPaymentlow)/2
        monthlyPaymenthigh=(balance*(1+annualInterestRate/12)**12)/12
        
        monthlyPayment=(monthlyPaymenthigh-monthlyPaymentlow)/2    
        print ('elif',balance, monthlyPaymentlow, monthlyPaymenthigh)
        #Bank(balance, annualInterestRate, monthlyPayment, months)
    
    elif Bank(balance, annualInterestRate, monthlyPayment, months)<0:    
        monthlyPaymentlow=balance/12
        monthlyPaymenthigh=(monthlyPaymenthigh-monthlyPaymentlow)/2
        
        monthlyPayment=(monthlyPaymenthigh-monthlyPaymentlow)/2    
#        Bank(balance, annualInterestRate, monthlyPayment, months)
        print ('elif2',balance, monthlyPaymentlow, monthlyPaymenthigh)
print ('The lowest payment', monthlyPayment)    
    
